{
    "schema_version": "1.0",
    "generated_at": "2025-01-23T10:00:00Z",
    "description": "KEXP radio station relationship schema focusing on play events and music entity relationships",
    "entity_types": [
        "play",
        "artist",
        "recording",
        "release",
        "release_group",
        "label",
        "comment"
    ],
    "attribute_definitions": [
        {
            "name": "play_date",
            "uuid": "kexp-a001-play-date-attr",
            "type": "datetime",
            "description": "The date and time when the recording was played on air"
        },
        {
            "name": "show_name",
            "uuid": "kexp-a002-show-name-attr",
            "type": "text",
            "description": "The name of the radio show or program"
        },
        {
            "name": "dj_name",
            "uuid": "kexp-a003-dj-name-attr",
            "type": "text",
            "description": "The name of the DJ or host"
        },
        {
            "name": "play_duration",
            "uuid": "kexp-a004-play-duration-attr",
            "type": "duration",
            "description": "Duration of the play in seconds"
        },
        {
            "name": "play_order",
            "uuid": "kexp-a005-play-order-attr",
            "type": "integer",
            "description": "Order of play within the show or hour"
        },
        {
            "name": "airbreak_type",
            "uuid": "kexp-a006-airbreak-type-attr",
            "type": "text",
            "description": "Type of airbreak (station ID, weather, etc.)",
            "values": [
                "station_id",
                "weather",
                "news",
                "fundraising",
                "program_info",
                "artist_info",
                "upcoming_events"
            ]
        },
        {
            "name": "premiere",
            "uuid": "kexp-a007-premiere-attr",
            "type": "boolean",
            "description": "Indicates if this was the first time the recording was played on KEXP"
        },
        {
            "name": "live_session",
            "uuid": "kexp-a008-live-session-attr",
            "type": "boolean",
            "description": "Indicates if this was recorded during a live session at KEXP"
        },
        {
            "name": "interview",
            "uuid": "kexp-a009-interview-attr",
            "type": "boolean",
            "description": "Indicates if this play was part of an artist interview"
        },
        {
            "name": "concert_recording",
            "uuid": "kexp-a010-concert-recording-attr",
            "type": "boolean",
            "description": "Indicates if this was a live concert recording"
        },
        {
            "name": "comment_text",
            "uuid": "kexp-a011-comment-text-attr",
            "type": "text",
            "description": "The text content of the comment"
        },
        {
            "name": "comment_date",
            "uuid": "kexp-a012-comment-date-attr",
            "type": "datetime",
            "description": "The date and time when the comment was made"
        }
    ],
    "relationships": [
        {
            "subject": "play",
            "objects": [
                {
                    "type": "artist",
                    "relations": [
                        {
                            "type": "played_by",
                            "uuid": "kexp-r001-play-artist",
                            "forward_phrase": "played by",
                            "reverse_phrase": "played on",
                            "long_link_phrase": "{entity0} was played by {entity1}",
                            "description": "Links a play event to the artist whose music was played",
                            "deprecated": false,
                            "attributes": [
                                "play_date",
                                "play_duration",
                                "play_order",
                                "premiere",
                                "live_session",
                                "interview",
                                "concert_recording"
                            ],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "recording",
                    "relations": [
                        {
                            "type": "plays_recording",
                            "uuid": "kexp-r002-play-recording",
                            "forward_phrase": "plays recording",
                            "reverse_phrase": "played in",
                            "long_link_phrase": "{entity0} plays the recording {entity1}",
                            "description": "Links a play event to the specific recording that was played",
                            "deprecated": false,
                            "attributes": [
                                "play_date",
                                "play_duration",
                                "play_order",
                                "premiere",
                                "live_session",
                                "interview",
                                "concert_recording"
                            ],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "release",
                    "relations": [
                        {
                            "type": "from_release",
                            "uuid": "kexp-r003-play-release",
                            "forward_phrase": "from release",
                            "reverse_phrase": "played from",
                            "long_link_phrase": "{entity0} is from the release {entity1}",
                            "description": "Links a play event to the release the recording came from",
                            "deprecated": false,
                            "attributes": [
                                "play_date"
                            ],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "release_group",
                    "relations": [
                        {
                            "type": "from_release_group",
                            "uuid": "kexp-r004-play-release-group",
                            "forward_phrase": "from release group",
                            "reverse_phrase": "played from",
                            "long_link_phrase": "{entity0} is from the release group {entity1}",
                            "description": "Links a play event to the release group the recording belongs to",
                            "deprecated": false,
                            "attributes": [
                                "play_date"
                            ],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "label",
                    "relations": [
                        {
                            "type": "from_label",
                            "uuid": "kexp-r005-play-label",
                            "forward_phrase": "from label",
                            "reverse_phrase": "played from",
                            "long_link_phrase": "{entity0} is from the label {entity1}",
                            "description": "Links a play event to the record label that released the recording",
                            "deprecated": false,
                            "attributes": [
                                "play_date"
                            ],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "comment",
                    "relations": [
                        {
                            "type": "has_comment",
                            "uuid": "kexp-r006-play-comment",
                            "forward_phrase": "has comment",
                            "reverse_phrase": "comment on",
                            "long_link_phrase": "{entity0} has comment {entity1}",
                            "description": "Links a play event to comments made about it",
                            "deprecated": false,
                            "attributes": [
                                "comment_date"
                            ],
                            "parent_type": null
                        }
                    ]
                }
            ]
        },
        {
            "subject": "artist",
            "objects": [
                {
                    "type": "recording",
                    "relations": [
                        {
                            "type": "has_recording",
                            "uuid": "kexp-r009-artist-recording",
                            "forward_phrase": "has recording",
                            "reverse_phrase": "by artist",
                            "long_link_phrase": "{entity0} has the recording {entity1}",
                            "description": "Links an artist to their recordings in the KEXP system",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "release",
                    "relations": [
                        {
                            "type": "has_release",
                            "uuid": "kexp-r010-artist-release",
                            "forward_phrase": "has release",
                            "reverse_phrase": "by artist",
                            "long_link_phrase": "{entity0} has the release {entity1}",
                            "description": "Links an artist to their releases in the KEXP system",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "release_group",
                    "relations": [
                        {
                            "type": "has_release_group",
                            "uuid": "kexp-r011-artist-release-group",
                            "forward_phrase": "has release group",
                            "reverse_phrase": "by artist",
                            "long_link_phrase": "{entity0} has the release group {entity1}",
                            "description": "Links an artist to their release groups in the KEXP system",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "label",
                    "relations": [
                        {
                            "type": "has_label",
                            "uuid": "kexp-r012-artist-label",
                            "forward_phrase": "has label",
                            "reverse_phrase": "represents artist",
                            "long_link_phrase": "{entity0} is associated with the label {entity1}",
                            "description": "Links an artist to their record label in the KEXP system",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                }
            ]
        },
        {
            "subject": "recording",
            "objects": [
                {
                    "type": "release",
                    "relations": [
                        {
                            "type": "appears_on_release",
                            "uuid": "kexp-r013-recording-release",
                            "forward_phrase": "appears on release",
                            "reverse_phrase": "contains recording",
                            "long_link_phrase": "{entity0} appears on the release {entity1}",
                            "description": "Links a recording to the releases it appears on",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "release_group",
                    "relations": [
                        {
                            "type": "from_release_group",
                            "uuid": "kexp-r014-recording-release-group",
                            "forward_phrase": "from release group",
                            "reverse_phrase": "contains recording",
                            "long_link_phrase": "{entity0} is from the release group {entity1}",
                            "description": "Links a recording to its release group",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "label",
                    "relations": [
                        {
                            "type": "released_by_label",
                            "uuid": "kexp-r015-recording-label",
                            "forward_phrase": "released by label",
                            "reverse_phrase": "released recording",
                            "long_link_phrase": "{entity0} was released by the label {entity1}",
                            "description": "Links a recording to the label that released it",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                }
            ]
        },
        {
            "subject": "release",
            "objects": [
                {
                    "type": "release_group",
                    "relations": [
                        {
                            "type": "part_of_release_group",
                            "uuid": "kexp-r016-release-release-group",
                            "forward_phrase": "part of release group",
                            "reverse_phrase": "contains release",
                            "long_link_phrase": "{entity0} is part of the release group {entity1}",
                            "description": "Links a release to its release group",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "label",
                    "relations": [
                        {
                            "type": "released_by_label",
                            "uuid": "kexp-r017-release-label",
                            "forward_phrase": "released by label",
                            "reverse_phrase": "released",
                            "long_link_phrase": "{entity0} was released by the label {entity1}",
                            "description": "Links a release to the label that published it",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                }
            ]
        },
        {
            "subject": "release_group",
            "objects": [
                {
                    "type": "label",
                    "relations": [
                        {
                            "type": "released_by_label",
                            "uuid": "kexp-r018-release-group-label",
                            "forward_phrase": "released by label",
                            "reverse_phrase": "released release group",
                            "long_link_phrase": "{entity0} was released by the label {entity1}",
                            "description": "Links a release group to the primary label that released it",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                }
            ]
        },
        {
            "subject": "comment",
            "objects": [
                {
                    "type": "artist",
                    "relations": [
                        {
                            "type": "mentions",
                            "uuid": "kexp-r019-comment-artist",
                            "forward_phrase": "mentions",
                            "reverse_phrase": "mentioned in",
                            "long_link_phrase": "{entity0} mentions {entity1}",
                            "description": "Links a comment to an artist it mentions",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "recording",
                    "relations": [
                        {
                            "type": "mentions",
                            "uuid": "kexp-r020-comment-recording",
                            "forward_phrase": "mentions",
                            "reverse_phrase": "mentioned in",
                            "long_link_phrase": "{entity0} mentions {entity1}",
                            "description": "Links a comment to a recording it mentions",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "release",
                    "relations": [
                        {
                            "type": "mentions",
                            "uuid": "kexp-r021-comment-release",
                            "forward_phrase": "mentions",
                            "reverse_phrase": "mentioned in",
                            "long_link_phrase": "{entity0} mentions {entity1}",
                            "description": "Links a comment to a release it mentions",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "release_group",
                    "relations": [
                        {
                            "type": "mentions",
                            "uuid": "kexp-r022-comment-release-group",
                            "forward_phrase": "mentions",
                            "reverse_phrase": "mentioned in",
                            "long_link_phrase": "{entity0} mentions {entity1}",
                            "description": "Links a comment to a release group it mentions",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                },
                {
                    "type": "label",
                    "relations": [
                        {
                            "type": "mentions",
                            "uuid": "kexp-r023-comment-label",
                            "forward_phrase": "mentions",
                            "reverse_phrase": "mentioned in",
                            "long_link_phrase": "{entity0} mentions {entity1}",
                            "description": "Links a comment to a label it mentions",
                            "deprecated": false,
                            "attributes": [],
                            "parent_type": null
                        }
                    ]
                }
            ]
        }
    ],
    "implementation_notes": {
        "primary_entity": "play",
        "description": "This schema is designed around the central concept of 'play' events, which represent when a recording is played on KEXP radio. All other entities and relationships support this core functionality.",
        "data_flow": "Play events link to recordings, which link to artists, releases, release groups, and labels. Comments can be attached to plays and mention any music entity.",
        "unique_identifiers": {
            "play": "combination of recording, play_date, and context",
            "artist": "artist name or external ID (MusicBrainz, Spotify, etc.)",
            "recording": "track title + artist + release context",
            "release": "release title + artist + label",
            "release_group": "album/EP title + artist",
            "label": "label name",
            "comment": "comment text + date + associated play"
        },
        "cardinality_notes": {
            "play_to_recording": "many-to-one (same recording can be played multiple times)",
            "play_to_artist": "many-to-many (collaborations, features)",
            "play_to_comment": "one-to-many (one play can have multiple comments)",
            "comment_to_entities": "many-to-many (comments can mention multiple entities)",
            "recording_to_release": "many-to-many (singles, compilations)",
            "release_to_label": "many-to-many (co-releases, distribution)"
        }
    }
}
